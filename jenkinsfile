pipeline {
    agent any
    parameters {
        string(name: 'INSTANCE_ID', defaultValue: '', description: 'i-0d0f9348affd68880')
        string(name: 'TAG_KEY1', defaultValue: '', description: 'scheduler')
        string(name: 'TAG_VALUE1', defaultValue: '', description: '2nd thu')
        string(name: 'TAG_KEY2', defaultValue: '', description: 'backup')
        string(name: 'TAG_VALUE2', defaultValue: '', description: '3rd wed')
    }
    stages {
        stage('Attach Tags') {
            steps {
                withAWS(credentials: 'ec2-user', region: 'ap-south-1') {
                    sh '''
                    aws ec2 create-tags --resources ${INSTANCE_ID} --tags Key=${TAG_KEY1},Value=${TAG_VALUE1} Key=${TAG_KEY2},Value=${TAG_VALUE2}
                    '''
                }
            }
        }
    }
}
